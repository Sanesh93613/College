/*
 * Скетч для передатчика
 */

#include <SoftwareSerial.h>         // * Подключаем библиотеку программного последовательного порта
#define RX 8                        // * Определяем вывод TX программного последовательного порта
#define TX 9                        // * Определяем вывод RX программного последовательного порта
                                    //
SoftwareSerial Serial1(RX,TX);      // * Создаём программный последовательный порт
                                    //
byte data[5];                       // Объявляем массив для приёма и хранения данных 
                                    //
void setup() {                      //
  Serial1.begin(9600);              // Инициируем последовательный порт на скорости 9600 бод
}                                   //
                                    //
void loop() {                       //
  data[0] = 0;                      // Записываем ноль (ВЫКЛ) в первый байт массива
  Serial1.write(0xAA);              // Посылаем заголовок пакета
  Serial1.write(data, sizeof(data));// Посылаем массив данных
  Serial1.write('\n');              // Посылаем символ новой строки
  delay(500);                       // Ждём полсекунды
  data[0] = 1;                      // Записываем единицу (ВКЛ) в первый байт массива
  Serial1.write(0xAA);              // Посылаем заголовок пакета
  Serial1.write(data, sizeof(data));// Посылаем массив данных
  Serial1.write('\n');              // Посылаем символ новой строки
  delay(500);                       // Ждём полсекунды
}                                   //